<app-loader></app-loader><div class="card"> <button type="button" class="close" aria-label="Close" (click)="onNoClick()" tabindex="-1"> <span aria-hidden="true">&times;</span> </button> <form (ngSubmit)="!nameFormControl.hasError('required') && !nameFormControl.hasError('pattern') && !message.hasError('required') && !message.hasError('pattern') && !dateFormControl.hasError('required') && !startTimeFormControl.hasError('required') && !endTimeFormControl.hasError('required') && !priceFormControl.hasError('required') &&!priceFormControl.hasError('pattern') && !searchControl.hasError('required') && onSubmit(f)" #f="ngForm" id="eventform" name="eventform" method="post"> <div class="card-header text-center" data-background-color="rose"> <h4 class="card-title"> Add New Event </h4> </div><div class="scroll"> <div class="card-content"> <mat-form-field class="example-full-width mat-size"> <input matInput placeholder="Enter Event Name" [formControl]="nameFormControl" [(ngModel)]="model.eventname" required> <mat-error *ngIf="nameFormControl.hasError('pattern')"> Please enter a valid event name </mat-error> <mat-error *ngIf="nameFormControl.hasError('required')"> Event name is <strong>required</strong> </mat-error> </mat-form-field> <mat-form-field class="example-full-width mat-size"> <textarea rows="3" matInput #message1 maxlength="256" placeholder="Enter event detail" [required]="message" name="message" [(ngModel)]="model.detail" #message="ngModel" required pattern="[a-zA-Z0-9 -_.]+?"> </textarea> <mat-hint align="start"><strong>Write details about event</strong></mat-hint> <mat-hint align="end">{{message1.value.length}}/ 256</mat-hint> <mat-error *ngIf="message.hasError('required')"> Event detail is <strong>required</strong> </mat-error> <mat-error *ngIf="message.hasError('pattern')"> Please enter <strong> valid </strong> details </mat-error> </mat-form-field> <mat-form-field class="example-full-width mat-size"> <input matInput (click)="picker.open()" (focus)="picker.open()" [matDatepicker]="picker" placeholder="Choose event date" [formControl]="dateFormControl" [(ngModel)]="model.date" required> <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle> <mat-datepicker #picker></mat-datepicker> <mat-error *ngIf="dateFormControl.hasError('required')"> Date is <strong>required</strong> </mat-error> </mat-form-field> <mat-form-field class="example-full-width mat-size"> <input matInput placeholder="Event start time (00:00 AM)" [formControl]="startTimeFormControl" [(ngModel)]="model.startTime" required> <mat-error *ngIf="startTimeFormControl.hasError('pattern')"> Please enter a valid start time </mat-error> <mat-error *ngIf="startTimeFormControl.hasError('required')"> Start time is <strong>required</strong> </mat-error> </mat-form-field> <mat-form-field class="example-full-width mat-size"> <input matInput placeholder="Event end time (00:00 AM)" [formControl]="endTimeFormControl" [(ngModel)]="model.endTime" required> <mat-error *ngIf="endTimeFormControl.hasError('pattern')"> Please enter a valid end time </mat-error> <mat-error *ngIf="endTimeFormControl.hasError('required')"> End time is <strong>required</strong> </mat-error> </mat-form-field> <mat-form-field class="example-full-width mat-size"> <input matInput placeholder="Event Price" (keypress)="onlyNumberKey($event)" [formControl]="priceFormControl" [(ngModel)]="model.price" required> <mat-error *ngIf="priceFormControl.hasError('pattern')"> Digits (or dots) are allowed only </mat-error> <mat-error *ngIf="priceFormControl.hasError('required')"> Price is <strong>required</strong> </mat-error> </mat-form-field> <mat-form-field class="example-full-width mat-size"> <input matInput placeholder="Event Location" type="text" autocomplete="off" #search [formControl]="searchControl" (keyup)="getAddress(search)" [(ngModel)]="model.address" required> <mat-error *ngIf="searchControl.hasError('pattern')"> Please enter a valid location </mat-error> <mat-error *ngIf="searchControl.hasError('required')"> Location is <strong>required</strong> </mat-error> </mat-form-field> <agm-map [latitude]="latitude" [longitude]="longitude" [scrollwheel]="false" [zoom]="zoom"> <agm-marker [latitude]="latitude" [longitude]="longitude"></agm-marker> </agm-map> <br><label> Upload Event Thumbnail </label> <input type="file" (change)="fileChangeEvent($event)"/> <image-cropper [imageChangedEvent]="imageChangedEvent" [maintainAspectRatio]="true" [aspectRatio]="16 / 9" [resizeToWidth]="360" (imageCropped)="imageCropped($event)" (loadImageFailed)="notSupported()" format="jpg" ></image-cropper> <div class="cropPreview"> <img [src]="croppedImage" class="uk-thumbnail uk-thumbnail-medium"/> </div></div><div class="footer text-right col-sm-12"> <button type="submit" id="submit" tabindex="2" class="button btn-primary custom"> Add Event</button> </div></div></form></div>